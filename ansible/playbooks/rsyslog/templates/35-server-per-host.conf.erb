# Generated by Chef
# Local modifications will be overwritten

$DirGroup adm
$DirCreateMode 0755
$FileGroup adm

##### Templates
# Templates System
$template PerHostAuth,"<%= @log_dir %>/<%= @per_host_dir %>/system/auth.log"
$template PerHostCron,"<%= @log_dir %>/<%= @per_host_dir %>/system/cron.log"
$template PerHostSyslog,"<%= @log_dir %>/<%= @per_host_dir %>/system/syslog"
$template PerHostDaemon,"<%= @log_dir %>/<%= @per_host_dir %>/system/daemon.log"
$template PerHostKern,"<%= @log_dir %>/<%= @per_host_dir %>/system/kern.log"
$template PerHostMail,"<%= @log_dir %>/<%= @per_host_dir %>/system/mail/mail.log"
$template PerHostMailErr,"<%= @log_dir %>/<%= @per_host_dir %>/system/mail/mail.err"
$template PerHostDebug,"<%= @log_dir %>/<%= @per_host_dir %>/system/debug"
$template PerHostMessages,"<%= @log_dir %>/<%= @per_host_dir %>/system/messages"
$template rawFormat,"%msg%\n"

# Templates System Services
$template System_Services_Messages,"<%= @log_dir %>/<%= @per_host_dir %>/system_services/%SYSLOGTAG%"

# Templates Sportaculous Services
$template Sportaculous_Services_Messages,"<%= @log_dir %>/<%= @per_host_dir %>/sportaculous_services/%SYSLOGTAG%"

# System Services Messages, local3 facility
local3.*                ?System_Services_Messages;RSYSLOG_FileFormat
local3.*                ~

# Sportaculous Services Messages, local4 facility
#local4.*                ?Sportaculous_Services_Messages;rawFormat
# Mode Debug
#local4.*                ?Sportaculous_Services_Messages;RSYSLOG_DebugFormat
local4.*                ?Sportaculous_Services_Messages;RSYSLOG_FileFormat
local4.*                ~

######## Rules
auth,authpriv.*         ?PerHostAuth;RSYSLOG_FileFormat
*.*;auth,authpriv.none  -?PerHostSyslog;RSYSLOG_FileFormat
cron.*                  ?PerHostCron;RSYSLOG_FileFormat
daemon.*                -?PerHostDaemon;RSYSLOG_FileFormat
kern.*                  -?PerHostKern;RSYSLOG_FileFormat
mail.*                  -?PerHostMail;RSYSLOG_FileFormat
mail.err                ?PerHostMailErr;RSYSLOG_FileFormat

*.=debug;\
  auth,authpriv.none;\
  news.none;mail.none   -?PerHostDebug;RSYSLOG_FileFormat

*.=info;*.=notice;*.=warn;\
  auth,authpriv.none;\
  cron,daemon.none;\
  mail,news.none        -?PerHostMessages;RSYSLOG_FileFormat

#
# Stop processing of all non-local messages. You can process remote messages
# on levels less than 35.
#
:fromhost-ip,!isequal,"127.0.0.1" ~
